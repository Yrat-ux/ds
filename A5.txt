#include <bits/stdc++.h>
using namespace std;

struct Node {
    int value;  
    vector<Node*> children;

    Node(int val = 0) {
        value = val;    // leaf nodes hold real values
    }
};

// Minimax with depth-based alternation
int minimax(Node* root, bool isMax) {

    // LEAF â†’ return its stored value
    if (root->children.empty()) 
        return root->value;

    if (isMax) {
        int best = -1e9;
        for (auto child : root->children)
            best = max(best, minimax(child, false)); // next is MIN
        return best;
    } 
    else {
        int best = 1e9;
        for (auto child : root->children)
            best = min(best, minimax(child, true)); // next is MAX
        return best;
    }
}

int main() {

    // Build a deeper tree (depth 3+)
    // Level 0 = MAX
    Node* root = new Node();

    // Level 1 = MIN
    Node* A = new Node();
    Node* B = new Node();

    // Level 2 = MAX
    Node* A1 = new Node();
    Node* A2 = new Node();
    Node* B1 = new Node();
    Node* B2 = new Node();

    // Level 3 = MIN (leaf values)
    A1->children.push_back(new Node(3));
    A1->children.push_back(new Node(15));

    A2->children.push_back(new Node(7));
    A2->children.push_back(new Node(9));

    B1->children.push_back(new Node(4));
    B1->children.push_back(new Node(6));

    B2->children.push_back(new Node(8));
    B2->children.push_back(new Node(10));

    // Attach to Level 2 MAX nodes
    A->children = {A1, A2};
    B->children = {B1, B2};

    // Attach to root
    root->children = {A, B};

    cout << "Minimax value = " << minimax(root, true) << endl;
    return 0;
}
